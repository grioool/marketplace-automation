<div (click)="back()" class="back-panel">
    <img src="../../../assets/leftArrow.png" alt="Back"/>
    <span class="back-text">Назад</span>
</div>

<h1 class="profileClass">Личная информация</h1>

<div class="container">

    <ng-container *ngIf="isReadOnly(user)">
        <p>Email: {{user.email}}</p>
        <p>Имя: {{user.username}}</p>
        <p>Название компании: {{user.nameCompany}}</p>
        <p>Ключ WB: {{user.wildBerriesKeys}}</p>
        <p>Пароль: {{user.password}}</p>

        <button type="button" class="eyeButton" (click)="hideText()"><i class='fas fa-eye fa-lg'></i></button>
        <button type="submit" class="btn" (click)="editUser(user)">Изменить</button>
    </ng-container>

    <ng-container *ngIf="isEditable(user)">

        <input type="text" [(ngModel)]="editedUser.email" placeholder="Email" name="email" required>

        <input type="text" [(ngModel)]="editedUser.nameCompany" placeholder="Название юридического лица" name="nameC"
               required>

        <input class="hidden" [(ngModel)]="editedUser.wildBerriesKeys" placeholder="Ключ от WB" name="wb"
               [type]="hide ? 'password' : 'text'" required>

        <span style="position: relative">
            <input class="hidden" [(ngModel)]="editedUser.password" type="text" placeholder="Пароль" name="password"
                   [type]="hide ? 'password' : 'text'" required>
            <button type="button" class="eyeButton" (click)="hideText()"><i class='fas fa-eye fa-lg'></i></button>
        </span>

        <button type="submit" class="btn">Сохранить</button>

        <button type="submit" class="btn" (click)="cancel()">Отмена</button>

    </ng-container>

    <ng-template [ngTemplateOutlet]="loadTemplate(user)"
                 [ngTemplateOutletContext]="{ $implicit: user}">
    </ng-template>

</div>

